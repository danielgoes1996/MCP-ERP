{
  "invoicing_tickets": {
    "core": [
      "POST /analytics → get_bulk_processing_analytics() (api/bulk_invoice_api.py)",
      "GET /analytics/{user_id} → get_completion_analytics() (api/expense_completion_api.py)",
      "DELETE /batch/{batch_id} → cancel_batch() (api/bulk_invoice_api.py)",
      "GET /batch/{batch_id}/results → get_batch_results() (api/bulk_invoice_api.py)",
      "GET /batch/{batch_id}/status → get_batch_status() (api/bulk_invoice_api.py)",
      "GET /batches → list_batches() (api/bulk_invoice_api.py)",
      "POST /bulk-complete → bulk_complete_expenses() (api/expense_completion_api.py)",
      "GET /companies/{company_id}/stats → get_company_stats() (api/advanced_invoicing_api.py)",
      "GET /formats/{company_id} → list_company_formats() (api/universal_invoice_engine_api.py)",
      "POST /formats/{company_id} → create_company_format() (api/universal_invoice_engine_api.py)",
      "POST /interactions → record_completion_interaction() (api/expense_completion_api.py)",
      "GET /jobs/{job_id}/download/{file_name} → download_job_file() (api/advanced_invoicing_api.py)",
      "GET /jobs/{job_id}/logs → get_job_logs() (api/advanced_invoicing_api.py)",
      "GET /jobs/{job_id}/screenshots → get_job_screenshots() (api/advanced_invoicing_api.py)",
      "GET /jobs/{job_id}/status → get_job_status() (api/advanced_invoicing_api.py)",
      "GET /merchants → list_merchants() (api/v1/invoicing.py)",
      "GET /merchants/{merchant_id}/analytics → get_merchant_analytics() (api/advanced_invoicing_api.py)",
      "POST /merchants/{merchant_id}/credentials → update_merchant_credentials() (api/advanced_invoicing_api.py)",
      "GET /merchants/{merchant_id}/test-portal → test_merchant_portal() (api/advanced_invoicing_api.py)",
      "GET /parsers/ → list_available_parsers() (api/universal_invoice_engine_api.py)",
      "GET /patterns/{user_id} → get_learned_patterns() (api/expense_completion_api.py)",
      "GET /performance-summary → get_performance_summary() (api/bulk_invoice_api.py)",
      "GET /preferences/{user_id} → get_user_preferences() (api/expense_completion_api.py)",
      "PUT /preferences/{user_id} → update_user_preferences() (api/expense_completion_api.py)",
      "POST /process-batch → process_invoice_batch() (api/bulk_invoice_api.py)",
      "GET /rules → list_processing_rules() (api/bulk_invoice_api.py)",
      "POST /rules → create_processing_rule() (api/bulk_invoice_api.py)",
      "POST /rules → create_completion_rule() (api/expense_completion_api.py)",
      "DELETE /rules/{rule_id} → delete_completion_rule() (api/expense_completion_api.py)",
      "GET /rules/{user_id} → get_completion_rules() (api/expense_completion_api.py)",
      "POST /sessions/ → create_invoice_processing_session() (api/universal_invoice_engine_api.py)",
      "POST /sessions/upload/ → upload_and_create_session() (api/universal_invoice_engine_api.py)",
      "DELETE /sessions/{session_id} → cancel_invoice_processing() (api/universal_invoice_engine_api.py)",
      "GET /sessions/{session_id}/extracted-data → get_extracted_data() (api/universal_invoice_engine_api.py)",
      "POST /sessions/{session_id}/process → process_universal_invoice() (api/universal_invoice_engine_api.py)",
      "GET /sessions/{session_id}/status → get_invoice_processing_status() (api/universal_invoice_engine_api.py)",
      "GET /sessions/{session_id}/template-match → get_session_template_match() (api/universal_invoice_engine_api.py)",
      "GET /sessions/{session_id}/validation → get_session_validation_results() (api/universal_invoice_engine_api.py)",
      "GET /stats → get_processing_stats() (api/v1/invoicing.py)",
      "POST /suggestions → get_completion_suggestions() (api/expense_completion_api.py)",
      "GET /tickets → list_tickets() (api/v1/invoicing.py)",
      "POST /tickets → create_ticket() (api/v1/invoicing.py)",
      "POST /tickets/upload → upload_and_process_ticket() (api/advanced_invoicing_api.py)",
      "GET /tickets/{ticket_id} → get_ticket() (api/v1/invoicing.py)",
      "POST /tickets/{ticket_id}/automate → start_invoice_automation() (api/advanced_invoicing_api.py)",
      "POST /tickets/{ticket_id}/process → process_ticket() (api/v1/invoicing.py)",
      "POST /validate-completeness → validate_expense_completeness() (api/expense_completion_api.py)"
    ],
    "legacy": [
      "GET /attachments/{attachment_id}/download → download_attachment() (modules/invoicing_agent/api.py)",
      "GET /automation-viewer → automation_viewer() (modules/invoicing_agent/api.py)",
      "POST /bulk → create_bulk_automation() (modules/invoicing_agent/enhanced_api.py)",
      "POST /bulk-match → bulk_ticket_upload() (modules/invoicing_agent/api.py)",
      "GET /dashboard → invoicing_dashboard() (modules/invoicing_agent/api.py)",
      "POST /dev/seed-merchants → seed_merchants() (modules/invoicing_agent/api.py)",
      "POST /extract-urls → extract_urls_from_text() (modules/invoicing_agent/api.py)",
      "GET /health → health_check() (api/bulk_invoice_api.py)",
      "GET /health → health_check() (api/v1/invoicing.py)",
      "GET /health → get_system_health() (modules/invoicing_agent/enhanced_api.py)",
      "GET /jobs → list_jobs_endpoint() (modules/invoicing_agent/api.py)",
      "POST /jobs/{job_id}/process → process_job_manually() (modules/invoicing_agent/api.py)",
      "GET /jobs/{job_id}/stream → stream_job_progress() (modules/invoicing_agent/enhanced_api.py)",
      "POST /maintenance/fix-inconsistencies → fix_data_inconsistencies() (modules/invoicing_agent/api.py)",
      "GET /merchants → list_merchants_endpoint() (modules/invoicing_agent/api.py)",
      "POST /merchants → create_merchant_endpoint() (modules/invoicing_agent/api.py)",
      "GET /merchants/{merchant_id} → get_merchant_endpoint() (modules/invoicing_agent/api.py)",
      "GET /metrics → get_automation_metrics() (modules/invoicing_agent/enhanced_api.py)",
      "GET /screenshots/{filename} → serve_screenshot() (modules/invoicing_agent/api.py)",
      "GET /simple → simple_dashboard() (modules/invoicing_agent/api.py)",
      "GET /stats → get_dashboard_stats() (modules/invoicing_agent/api.py)",
      "POST /test-intelligent-agent/{ticket_id} → test_intelligent_agent() (modules/invoicing_agent/api.py)",
      "POST /test-state-machine/{ticket_id} → test_state_machine_agent() (modules/invoicing_agent/api.py)",
      "GET /tickets → list_tickets_endpoint() (modules/invoicing_agent/api.py)",
      "POST /tickets → upload_ticket() (modules/invoicing_agent/api.py)",
      "POST /tickets → create_enhanced_ticket() (modules/invoicing_agent/enhanced_api.py)",
      "GET /tickets/{ticket_id} → get_ticket_status() (modules/invoicing_agent/api.py)",
      "GET /tickets/{ticket_id} → get_enhanced_ticket() (modules/invoicing_agent/enhanced_api.py)",
      "GET /tickets/{ticket_id}/automation-data → get_ticket_automation_data() (modules/invoicing_agent/api.py)",
      "POST /tickets/{ticket_id}/create-expense → create_expense_from_ticket_endpoint() (modules/invoicing_agent/api.py)",
      "POST /tickets/{ticket_id}/extract-urls → extract_urls_from_ticket() (modules/invoicing_agent/api.py)",
      "GET /tickets/{ticket_id}/image → get_ticket_image() (modules/invoicing_agent/api.py)",
      "GET /tickets/{ticket_id}/invoice-status → get_ticket_invoice_status() (modules/invoicing_agent/api.py)",
      "POST /tickets/{ticket_id}/navigate-urls → navigate_to_extracted_urls() (modules/invoicing_agent/api.py)",
      "GET /tickets/{ticket_id}/ocr-text → get_ticket_ocr_text() (modules/invoicing_agent/api.py)",
      "POST /tickets/{ticket_id}/reanalyze → reanalyze_ticket_with_ocr() (modules/invoicing_agent/api.py)",
      "POST /tickets/{ticket_id}/upload-invoice → upload_invoice_file() (modules/invoicing_agent/api.py)",
      "GET /tickets/{ticket_id}/validate-consistency → validate_ticket_consistency() (modules/invoicing_agent/api.py)",
      "GET /tickets/{ticket_id}/validate-consistency → validate_ticket_consistency() (modules/invoicing_agent/api.py)",
      "GET /url-extraction/health → get_url_extraction_health() (modules/invoicing_agent/api.py)",
      "GET /v2/queue/metrics → get_queue_metrics() (modules/invoicing_agent/api.py)",
      "GET /v2/system/health → get_system_health_v2() (modules/invoicing_agent/api.py)",
      "POST /v2/system/initialize → initialize_system_v2() (modules/invoicing_agent/api.py)",
      "POST /v2/tickets/batch-process → batch_process_tickets() (modules/invoicing_agent/api.py)",
      "POST /v2/tickets/process → process_ticket_v2() (modules/invoicing_agent/api.py)",
      "GET /v2/tickets/{ticket_id}/status → get_ticket_processing_status() (modules/invoicing_agent/api.py)",
      "POST /v2/workers/start → start_workers() (modules/invoicing_agent/api.py)",
      "POST /webhooks/whatsapp → whatsapp_webhook() (modules/invoicing_agent/api.py)"
    ],
    "notes": "Duplicados: GET /health (3 variantes); GET /merchants (2 variantes); GET /stats (2 variantes); GET /tickets (2 variantes); GET /tickets/{ticket_id} (3 variantes); GET /tickets/{ticket_id}/validate-consistency (2 variantes); POST /rules (2 variantes); POST /tickets (3 variantes) | Versionado: GET /v2/queue/metrics (v2), GET /v2/system/health (v2), GET /v2/tickets/{ticket_id}/status (v2), POST /v2/system/initialize (v2), POST /v2/tickets/batch-process (v2), POST /v2/tickets/process (v2), POST /v2/workers/start (v2) | Notas: Mantener APIs bajo /invoicing/* y deprecar módulos agents tras migración a servicios v2."
  },
  "ai_ml": {
    "core": [
      "GET /analytics/{user_id} → get_user_analytics() (api/conversational_assistant_api.py)",
      "POST /auto-apply-batch → auto_apply_batch() (api/ai_reconciliation_api.py)",
      "POST /auto-apply/{suggestion_index} → auto_apply_suggestion() (api/ai_reconciliation_api.py)",
      "DELETE /cache → clear_cache() (api/conversational_assistant_api.py)",
      "GET /cache/stats → get_cache_statistics() (api/conversational_assistant_api.py)",
      "POST /feedback → submit_category_feedback() (api/category_learning_api.py)",
      "GET /history/{expense_id} → get_prediction_history() (api/category_learning_api.py)",
      "GET /metrics → get_category_metrics() (api/category_learning_api.py)",
      "GET /models → list_llm_models() (api/conversational_assistant_api.py)",
      "POST /models/config → configure_llm_model() (api/conversational_assistant_api.py)",
      "POST /predict → predict_category() (api/category_learning_api.py)",
      "POST /query → process_user_query() (api/conversational_assistant_api.py)",
      "POST /sessions → create_conversation_session() (api/conversational_assistant_api.py)",
      "GET /sessions/{session_id}/history → get_conversation_history() (api/conversational_assistant_api.py)",
      "GET /stats → get_ai_stats() (api/ai_reconciliation_api.py)",
      "GET /suggestions → get_reconciliation_suggestions() (api/ai_reconciliation_api.py)"
    ],
    "legacy": [
      "POST /feedback → record_user_feedback() (api/conversational_assistant_api.py)",
      "GET /health → health_check() (api/conversational_assistant_api.py)",
      "GET /metrics/{company_id} → get_company_hybrid_metrics() (api/hybrid_processor_api.py)",
      "GET /processors/ → list_available_processors() (api/hybrid_processor_api.py)",
      "POST /processors/health-check → run_processors_health_check() (api/hybrid_processor_api.py)",
      "POST /retrain → retrain_from_corrections() (api/v1/ai_retrain.py)",
      "POST /sessions/ → create_hybrid_processing_session() (api/hybrid_processor_api.py)",
      "DELETE /sessions/{session_id} → cancel_hybrid_session() (api/hybrid_processor_api.py)",
      "GET /sessions/{session_id}/metrics → get_session_processing_metrics() (api/hybrid_processor_api.py)",
      "POST /sessions/{session_id}/process → process_hybrid_session() (api/hybrid_processor_api.py)",
      "GET /sessions/{session_id}/results → get_hybrid_session_results() (api/hybrid_processor_api.py)",
      "GET /sessions/{session_id}/status → get_hybrid_session_status() (api/hybrid_processor_api.py)",
      "GET /stats → get_learning_stats() (api/category_learning_api.py)"
    ],
    "notes": "Duplicados: GET /stats (2 variantes); POST /feedback (2 variantes) | Notas: Separar rutas del asistente conversacional bajo /ai/assistant/* y consolidar /stats en endpoints específicos."
  },
  "banking_reconciliation": {
    "core": [
      "GET / → get_user_statements() (api/bank_statements_api.py)",
      "GET / → get_user_payment_accounts() (api/payment_accounts_api.py)",
      "GET / → list_splits_endpoint() (api/split_reconciliation_api.py)",
      "POST / → create_payment_account() (api/payment_accounts_api.py)",
      "GET /accounts/{account_id} → get_account_statements() (api/bank_statements_api.py)",
      "POST /accounts/{account_id}/upload → upload_bank_statement() (api/bank_statements_api.py)",
      "POST /analytics → get_non_reconciliation_analytics() (api/non_reconciliation_api.py)",
      "GET /banking-institutions → get_banking_institutions() (api/payment_accounts_api.py)",
      "POST /bulk-actions → bulk_non_reconciliation_actions() (api/non_reconciliation_api.py)",
      "GET /dashboard-summary → get_dashboard_summary() (api/non_reconciliation_api.py)",
      "POST /escalate → escalate_non_reconciliation() (api/non_reconciliation_api.py)",
      "GET /escalation-rules → get_escalation_rules() (api/non_reconciliation_api.py)",
      "POST /escalation-rules → create_escalation_rule() (api/non_reconciliation_api.py)",
      "GET /health/check → bank_statements_health() (api/bank_statements_api.py)",
      "POST /many-to-one → create_many_to_one_split_endpoint() (api/split_reconciliation_api.py)",
      "POST /mark-non-reconcilable → mark_expense_non_reconcilable() (api/non_reconciliation_api.py)",
      "POST /notifications/schedule → schedule_notification() (api/non_reconciliation_api.py)",
      "POST /one-to-many → create_one_to_many_split_endpoint() (api/split_reconciliation_api.py)",
      "GET /reason-codes → get_reason_codes() (api/non_reconciliation_api.py)",
      "GET /records → get_non_reconciliation_records() (api/non_reconciliation_api.py)",
      "GET /records/{record_id} → get_non_reconciliation_record() (api/non_reconciliation_api.py)",
      "PUT /records/{record_id} → update_non_reconciliation_record() (api/non_reconciliation_api.py)",
      "GET /records/{record_id}/history → get_record_history() (api/non_reconciliation_api.py)",
      "GET /stats → get_non_reconciliation_stats() (api/non_reconciliation_api.py)",
      "GET /summary/dashboard → get_accounts_summary() (api/payment_accounts_api.py)",
      "GET /summary/stats → get_split_summary_endpoint() (api/split_reconciliation_api.py)",
      "GET /types/available → get_available_account_types() (api/payment_accounts_api.py)",
      "DELETE /{account_id} → delete_payment_account() (api/payment_accounts_api.py)",
      "GET /{account_id} → get_payment_account() (api/payment_accounts_api.py)",
      "PUT /{account_id} → update_payment_account() (api/payment_accounts_api.py)",
      "DELETE /{split_group_id} → undo_split_endpoint() (api/split_reconciliation_api.py)",
      "GET /{split_group_id} → get_split_details_endpoint() (api/split_reconciliation_api.py)",
      "DELETE /{statement_id} → delete_statement() (api/bank_statements_api.py)",
      "GET /{statement_id} → get_statement_details() (api/bank_statements_api.py)",
      "POST /{statement_id}/reparse → reparse_statement() (api/bank_statements_api.py)",
      "POST /{transaction_id}/mark_reviewed → mark_transaction_reviewed() (api/v1/transactions_review_api.py)"
    ],
    "legacy": [
      "GET /health → health_check() (api/non_reconciliation_api.py)",
      "GET /health → payment_accounts_health() (api/payment_accounts_api.py)",
      "GET /por-movimiento/{movement_id} → obtener_poliza_por_movimiento() (api/v1/polizas_api.py)",
      "GET /suggestions/many-to-one → get_many_to_one_suggestions() (api/ai_reconciliation_api.py)",
      "GET /suggestions/one-to-many → get_one_to_many_suggestions() (api/ai_reconciliation_api.py)"
    ],
    "notes": "Duplicados: GET / (3 variantes); GET /health (2 variantes) | Notas: Normalizar prefijos: /bank/statements, /bank/accounts, /reconciliation/non-matches, /reconciliation/splits."
  },
  "auth_users": {
    "core": [
      "POST /change-password → change_password() (api/auth_api.py)",
      "GET /context-status → get_context_status() (api/v1/user_context.py)",
      "GET /context/full → get_full_user_context() (api/v1/user_context.py)",
      "POST /login → login() (api/auth_api.py)",
      "POST /logout → logout() (api/auth_api.py)",
      "POST /mark_onboarding → mark_onboarding_completed() (api/v1/user_context.py)",
      "GET /me → get_auth_status() (api/v1/user_context.py)",
      "GET /profile → get_user_profile() (api/auth_api.py)",
      "POST /refresh → refresh_token() (api/auth_api.py)",
      "POST /register → register() (api/auth_api.py)",
      "GET /tenants → get_available_tenants() (api/auth_jwt_api.py)",
      "GET /users → list_users() (api/auth_api.py)"
    ],
    "legacy": [
      "GET /health → auth_health() (api/auth_api.py)",
      "GET /info → auth_info() (api/auth_api.py)",
      "POST /login → login() (api/auth_jwt_api.py)",
      "POST /logout → logout() (api/auth_jwt_api.py)",
      "GET /me → get_current_user_profile() (api/auth_jwt_api.py)",
      "GET /verify → verify_token() (api/auth_api.py)"
    ],
    "notes": "Duplicados: GET /me (2 variantes); POST /login (2 variantes); POST /logout (2 variantes) | Notas: Propuesto namespace /auth/* para login/logout/me; mover /health a Debug."
  },
  "automation_rpa": {
    "core": [
      "GET /automation/latest-data → get_latest_automation_data() (modules/invoicing_agent/api.py)",
      "GET /config → get_automation_config() (api/automation_v2.py)",
      "GET /feature-status → get_automation_feature_status() (api/automation_v2.py)",
      "GET /health → get_automation_health() (api/automation_v2.py)",
      "GET /jobs → get_automation_jobs() (api/automation_v2.py)",
      "GET /jobs/{job_id} → get_automation_job() (api/automation_v2.py)",
      "GET /jobs/{job_id}/logs → get_automation_job_logs() (api/automation_v2.py)",
      "GET /jobs/{job_id}/screenshots → get_automation_job_screenshots() (api/automation_v2.py)",
      "GET /metrics → get_automation_metrics() (api/automation_v2.py)"
    ],
    "legacy": [
      "GET /analytics/{user_id} → get_rpa_analytics() (api/rpa_automation_engine_api.py)",
      "GET /analytics/{user_id} → get_web_analytics() (api/web_automation_engine_api.py)",
      "GET /engines → list_web_engines() (api/web_automation_engine_api.py)",
      "POST /engines/config → configure_web_engine() (api/web_automation_engine_api.py)",
      "GET /health → health_check() (api/rpa_automation_engine_api.py)",
      "GET /health → health_check() (api/web_automation_engine_api.py)",
      "GET /health/system → get_system_health() (api/robust_automation_engine_api.py)",
      "GET /jobs → list_automation_jobs() (modules/invoicing_agent/enhanced_api.py)",
      "POST /jobs → create_automation_job() (modules/invoicing_agent/enhanced_api.py)",
      "GET /jobs/{job_id} → get_automation_job() (modules/invoicing_agent/enhanced_api.py)",
      "POST /jobs/{job_id}/cancel → cancel_automation_job() (modules/invoicing_agent/enhanced_api.py)",
      "GET /performance → get_performance_metrics() (api/rpa_automation_engine_api.py)",
      "GET /performance → get_web_performance_metrics() (api/web_automation_engine_api.py)",
      "POST /sessions → create_rpa_session() (api/rpa_automation_engine_api.py)",
      "POST /sessions → create_web_automation_session() (api/web_automation_engine_api.py)",
      "POST /sessions/ → create_robust_automation_session() (api/robust_automation_engine_api.py)",
      "DELETE /sessions/{session_id} → cancel_robust_automation() (api/robust_automation_engine_api.py)",
      "POST /sessions/{session_id}/anti-detection/enable → enable_anti_detection() (api/web_automation_engine_api.py)",
      "POST /sessions/{session_id}/cancel → cancel_rpa_session() (api/rpa_automation_engine_api.py)",
      "POST /sessions/{session_id}/cancel → cancel_web_session() (api/web_automation_engine_api.py)",
      "GET /sessions/{session_id}/captcha-solutions → get_session_captcha_solutions() (api/web_automation_engine_api.py)",
      "DELETE /sessions/{session_id}/cleanup → cleanup_session_resources() (api/rpa_automation_engine_api.py)",
      "GET /sessions/{session_id}/dom-analysis → get_session_dom_analysis() (api/web_automation_engine_api.py)",
      "POST /sessions/{session_id}/execute → execute_robust_automation() (api/robust_automation_engine_api.py)",
      "POST /sessions/{session_id}/fingerprint/rotate → rotate_browser_fingerprint() (api/web_automation_engine_api.py)",
      "GET /sessions/{session_id}/health → get_session_health_status() (api/robust_automation_engine_api.py)",
      "GET /sessions/{session_id}/logs → get_session_logs() (api/rpa_automation_engine_api.py)",
      "POST /sessions/{session_id}/pause → pause_rpa_session() (api/rpa_automation_engine_api.py)",
      "POST /sessions/{session_id}/pause → pause_web_session() (api/web_automation_engine_api.py)",
      "GET /sessions/{session_id}/performance → get_session_performance_metrics() (api/robust_automation_engine_api.py)",
      "GET /sessions/{session_id}/recovery → get_session_recovery_actions() (api/robust_automation_engine_api.py)",
      "POST /sessions/{session_id}/recovery/trigger → trigger_manual_recovery() (api/robust_automation_engine_api.py)",
      "POST /sessions/{session_id}/resume → resume_rpa_session() (api/rpa_automation_engine_api.py)",
      "POST /sessions/{session_id}/resume → resume_web_session() (api/web_automation_engine_api.py)",
      "POST /sessions/{session_id}/screenshot → capture_manual_screenshot() (api/rpa_automation_engine_api.py)",
      "GET /sessions/{session_id}/screenshots → get_session_screenshots() (api/rpa_automation_engine_api.py)",
      "POST /sessions/{session_id}/start → start_rpa_session() (api/rpa_automation_engine_api.py)",
      "POST /sessions/{session_id}/start → start_web_automation_session() (api/web_automation_engine_api.py)",
      "GET /sessions/{session_id}/status → get_robust_automation_status() (api/robust_automation_engine_api.py)",
      "GET /sessions/{session_id}/status → get_session_status() (api/rpa_automation_engine_api.py)",
      "GET /sessions/{session_id}/status → get_web_session_status() (api/web_automation_engine_api.py)",
      "GET /templates → list_portal_templates() (api/rpa_automation_engine_api.py)",
      "POST /templates → create_portal_template() (api/rpa_automation_engine_api.py)"
    ],
    "notes": "Duplicados: GET /analytics/{user_id} (2 variantes); GET /health (3 variantes); GET /jobs (2 variantes); GET /jobs/{job_id} (2 variantes); GET /performance (2 variantes); GET /sessions/{session_id}/status (3 variantes); POST /sessions (2 variantes); POST /sessions/{session_id}/cancel (2 variantes); POST /sessions/{session_id}/pause (2 variantes); POST /sessions/{session_id}/resume (2 variantes); POST /sessions/{session_id}/start (2 variantes) | Notas: Centralizar en automation_v2; retirar robust/rpa/web tras migración."
  },
  "clients_companies": {
    "core": [
      "GET / → list_all_clients() (api/client_management_api.py)",
      "POST /batch-setup → batch_setup_clients() (api/client_management_api.py)",
      "POST /context/analyze → analyze_company_context() (api/v1/companies_context.py)",
      "POST /context/questions → generate_company_context_questions() (api/v1/companies_context.py)",
      "GET /context/status → get_company_context_status() (api/v1/companies_context.py)",
      "POST /contextual_profile → create_company_contextual_profile() (api/v1/companies_context.py)",
      "GET /health → health_check() (api/client_management_api.py)",
      "POST /setup → setup_client() (api/client_management_api.py)",
      "GET /{client_id} → get_client_info() (api/client_management_api.py)",
      "PUT /{client_id}/fiscal-data → update_client_fiscal_data() (api/client_management_api.py)",
      "POST /{client_id}/invoice → create_invoice_with_context() (api/client_management_api.py)",
      "GET /{client_id}/portals → list_client_portals() (api/client_management_api.py)",
      "POST /{client_id}/portals/{merchant_name}/credentials → setup_portal_credentials() (api/client_management_api.py)",
      "GET /{client_id}/portals/{merchant_name}/status → check_portal_status() (api/client_management_api.py)"
    ],
    "legacy": [],
    "notes": ""
  },
  "financial_reports_insights": {
    "core": [
      "GET / → list_advances() (api/employee_advances_api.py)",
      "POST / → create_advance() (api/employee_advances_api.py)",
      "GET /cash-flow-analysis → get_cash_flow_analysis() (api/financial_intelligence_api.py)",
      "GET /categorias-sat/resumen → get_categorias_sat_summary() (api/financial_reports_api.py)",
      "GET /comprehensive-report → get_comprehensive_financial_report() (api/financial_intelligence_api.py)",
      "GET /disponibles → get_available_reports() (api/financial_reports_api.py)",
      "GET /employee/{employee_id}/summary → get_employee_summary() (api/employee_advances_api.py)",
      "GET /expense-breakdown → get_expense_breakdown() (api/financial_intelligence_api.py)",
      "GET /financial-health-score → get_financial_health_score() (api/financial_intelligence_api.py)",
      "GET /financial-insights → get_financial_insights() (api/financial_intelligence_api.py)",
      "GET /gastos-revision → get_gastos_revision() (api/financial_reports_api.py)",
      "POST /iva → generate_iva_report() (api/financial_reports_api.py)",
      "GET /optimization-suggestions → get_optimization_suggestions() (api/financial_intelligence_api.py)",
      "GET /pending/all → get_pending_reimbursements() (api/employee_advances_api.py)",
      "POST /poliza-electronica → generate_poliza_electronica() (api/financial_reports_api.py)",
      "GET /poliza-electronica/xml → download_poliza_xml() (api/financial_reports_api.py)",
      "POST /reimburse → reimburse_advance() (api/employee_advances_api.py)",
      "GET /resumen-fiscal → get_resumen_fiscal() (api/financial_reports_api.py)",
      "GET /summary/all → get_advances_summary() (api/employee_advances_api.py)",
      "GET /tax-deductibility-report → get_tax_deductibility_report() (api/financial_intelligence_api.py)",
      "DELETE /{advance_id} → cancel_advance() (api/employee_advances_api.py)",
      "GET /{advance_id} → get_advance() (api/employee_advances_api.py)",
      "PATCH /{advance_id} → update_advance() (api/employee_advances_api.py)"
    ],
    "legacy": [
      "GET / → listar_polizas() (api/v1/polizas_api.py)",
      "POST /generar_desde_conciliacion → generar_poliza_desde_conciliacion() (api/v1/polizas_api.py)",
      "GET /health → health_check() (api/financial_reports_api.py)",
      "GET /{poliza_id} → obtener_poliza() (api/v1/polizas_api.py)"
    ],
    "notes": "Duplicados: GET / (2 variantes) | Notas: Migrar polizas v1 a motor de reportes moderno."
  },
  "feature_flags_config": {
    "core": [
      "GET /audit/{flag_key} → get_feature_flag_audit() (api/feature_flags_api.py)",
      "GET /automation/check → check_automation_status() (api/feature_flags_api.py)",
      "POST /automation/disable-global → disable_automation_globally_endpoint() (api/feature_flags_api.py)",
      "POST /automation/enable-company → enable_automation_for_company_endpoint() (api/feature_flags_api.py)",
      "POST /automation/set-rollout → set_automation_rollout_endpoint() (api/feature_flags_api.py)",
      "GET /check/{flag_key} → check_feature_flag() (api/feature_flags_api.py)",
      "GET /status → get_all_feature_flags() (api/feature_flags_api.py)",
      "POST /update → update_feature_flag() (api/feature_flags_api.py)"
    ],
    "legacy": [],
    "notes": "Notas: Documentar alcances por scope en un único endpoint consolidado."
  },
  "debug_health": {
    "core": [
      "GET /config → get_debug_config() (api/v1/debug.py)",
      "GET /health → debug_health_check() (api/v1/debug.py)",
      "GET /sessions → get_debug_sessions() (api/v1/debug.py)",
      "GET /sessions/{session_id}/checkpoints → get_session_checkpoints() (api/v1/debug.py)"
    ],
    "legacy": [],
    "notes": "Notas: Reubicar health/debug bajo /internal/monitoring/* con control de acceso."
  }
}