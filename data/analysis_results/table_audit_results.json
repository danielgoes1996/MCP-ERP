{
  "access_log": {
    "usage": {
      "mentions": 3,
      "files": [
        "core/security_vault.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 3,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "username",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "endpoint",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "method",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "status_code",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "ip_address",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_agent",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "timestamp",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "duration_ms",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "analytics_cache": {
    "usage": {
      "mentions": 0,
      "files": [],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "company_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "cache_key",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "cache_data",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "cache_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "expires_at",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "UNUSED"
  },
  "automation_jobs": {
    "usage": {
      "mentions": 61,
      "files": [
        "core/rollback_safety.py",
        "modules/invoicing_agent/automation_persistence.py",
        "core/idempotent_workers.py",
        "core/unified_db_adapter.py",
        "core/multi_tenancy_scaling.py",
        "api/automation_v2.py",
        "modules/invoicing_agent/enhanced_api.py",
        "modules/invoicing_agent/api.py"
      ],
      "sql_queries": 26,
      "insert_queries": 3,
      "select_queries": 17,
      "update_queries": 6
    },
    "data": {
      "total_rows": 117,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 117
      },
      "date_range": {
        "min": "2025-09-25 16:44:02",
        "max": "2025-09-25 16:44:02"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "job_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "config",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "started_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "completed_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "checkpoint_data",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "recovery_metadata",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "session_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "automation_health",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "performance_metrics",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "recovery_actions",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "automation_logs": {
    "usage": {
      "mentions": 6,
      "files": [
        "modules/invoicing_agent/automation_persistence.py",
        "api/automation_v2.py",
        "core/playwright_executor.py"
      ],
      "sql_queries": 3,
      "insert_queries": 1,
      "select_queries": 2,
      "update_queries": 0
    },
    "data": {
      "total_rows": 1259,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "job_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "level",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "message",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "timestamp",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "automation_screenshots": {
    "usage": {
      "mentions": 17,
      "files": [
        "modules/invoicing_agent/automation_persistence.py",
        "core/rpa_automation_engine_system.py",
        "modules/invoicing_agent/universal_invoice_engine.py",
        "modules/invoicing_agent/robust_automation_engine.py",
        "modules/invoicing_agent/playwright_simple_engine.py",
        "api/automation_v2.py",
        "core/playwright_executor.py",
        "modules/invoicing_agent/playwright_robust_engine.py",
        "modules/invoicing_agent/playwright_automation_engine.py",
        "api/rpa_automation_engine_api.py"
      ],
      "sql_queries": 4,
      "insert_queries": 1,
      "select_queries": 3,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "job_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "filename",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "file_path",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "step_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "timestamp",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "automation_sessions": {
    "usage": {
      "mentions": 20,
      "files": [
        "core/rpa_automation_engine_system.py",
        "api/robust_automation_engine_api.py",
        "core/web_automation_engine_system.py",
        "core/api_models.py",
        "core/robust_automation_engine_system.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "session_id",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "company_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "state_data",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "checkpoint_data",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "recovery_metadata",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "session_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "bank_matching_rules": {
    "usage": {
      "mentions": 2,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 7,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 7
      },
      "date_range": {
        "min": "2025-09-25 22:04:01",
        "max": "2025-09-25 22:04:01"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "rule_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "rule_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "pattern",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confidence_weight",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "priority",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "created_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "bank_ml_config": {
    "usage": {
      "mentions": 1,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 1,
      "insert_queries": 0,
      "select_queries": 1,
      "update_queries": 0
    },
    "data": {
      "total_rows": 3,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 3
      },
      "date_range": {
        "min": "2025-09-25 22:04:01",
        "max": "2025-09-25 22:04:01"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "config_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "config_data",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "version",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "bank_movements": {
    "usage": {
      "mentions": 104,
      "files": [
        "core/bank_reconciliation.py",
        "core/internal_db.py",
        "core/bank_statements_models.py",
        "core/split_reconciliation_service.py",
        "core/db_optimizer.py",
        "core/enhanced_pdf_parser.py",
        "core/conversational_assistant_system.py",
        "core/unified_db_adapter.py",
        "core/api_models.py",
        "core/ai_reconciliation_service.py"
      ],
      "sql_queries": 60,
      "insert_queries": 6,
      "select_queries": 44,
      "update_queries": 10
    },
    "data": {
      "total_rows": 196,
      "has_tenant_id": true,
      "tenant_distribution": {
        "3": 110,
        "4": 86
      },
      "date_range": {
        "min": "2025-09-28 12:57:48.126118",
        "max": "2025-10-03 04:09:10"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "amount",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "date",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "account",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "matched_expense_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "decision",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "bank_metadata",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "movement_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "transaction_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "reference",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "balance_after",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "raw_data",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "processing_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matched_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "matched_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "auto_matched",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "reconciliation_notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "bank_account_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matching_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "statement_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "account_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "cleaned_description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category_auto",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category_manual",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "is_reconciled",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confidence_score",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "movement_kind",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "cargo_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "abono_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "description_raw",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "transaction_subtype",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "balance_before",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "running_balance",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "display_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "subcategory",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tax_deductible",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "requires_receipt",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "iva_rate",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "iva_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "matched_cfdi_uuid",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matched_whatsapp_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matched_invoice_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "reconciliation_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "reconciliation_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "cash_flow_category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "business_purpose",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "project_code",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "is_anomaly",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "anomaly_reason",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "unusual_amount",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "last_categorized_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "categorized_by",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "manual_override",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "reconciliation_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "split_group_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "amount_allocated",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "amount_unallocated",
          "type": "REAL",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "bank_movements_backup_20250928": {
    "usage": {
      "mentions": 0,
      "files": [],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 75,
      "has_tenant_id": true,
      "tenant_distribution": {
        "3": 75
      },
      "date_range": {
        "min": "2025-09-28 18:45:22",
        "max": "2025-09-28 18:45:22"
      },
      "schema": [
        {
          "name": "id",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "date",
          "type": "NUM",
          "notnull": 0
        },
        {
          "name": "account",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "matched_expense_id",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "NUM",
          "notnull": 0
        },
        {
          "name": "decision",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "bank_metadata",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "movement_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "transaction_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "reference",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "balance_after",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "raw_data",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "processing_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matched_at",
          "type": "NUM",
          "notnull": 0
        },
        {
          "name": "matched_by",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "auto_matched",
          "type": "NUM",
          "notnull": 0
        },
        {
          "name": "reconciliation_notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "bank_account_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matching_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "statement_id",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "account_id",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INT",
          "notnull": 0
        },
        {
          "name": "cleaned_description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category_auto",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category_manual",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "is_reconciled",
          "type": "NUM",
          "notnull": 0
        },
        {
          "name": "notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confidence_score",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "movement_kind",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "LEGACY_DATA"
  },
  "bank_reconciliation_feedback": {
    "usage": {
      "mentions": 1,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 1,
      "insert_queries": 1,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "movement_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "feedback_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "match_criteria",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_decision",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "feedback_notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "bank_reconciliation_splits": {
    "usage": {
      "mentions": 10,
      "files": [
        "core/split_reconciliation_service.py"
      ],
      "sql_queries": 10,
      "insert_queries": 2,
      "select_queries": 8,
      "update_queries": 0
    },
    "data": {
      "total_rows": 3,
      "has_tenant_id": true,
      "tenant_distribution": {
        "3": 3
      },
      "date_range": {
        "min": "2025-10-03 04:16:29",
        "max": "2025-10-03 04:16:29"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "split_group_id",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "split_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "movement_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "allocated_amount",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "percentage",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "created_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "is_complete",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "verified_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "bank_statements": {
    "usage": {
      "mentions": 39,
      "files": [
        "api/bank_statements_api.py",
        "core/bank_statements_models.py",
        "core/enhanced_pdf_parser.py",
        "core/unified_db_adapter.py",
        "core/llm_pdf_parser.py",
        "core/bank_file_parser.py",
        "core/intelligent_fallback_parser.py",
        "core/cargos_abonos_parser.py",
        "core/robust_pdf_parser.py"
      ],
      "sql_queries": 10,
      "insert_queries": 1,
      "select_queries": 7,
      "update_queries": 2
    },
    "data": {
      "total_rows": 2,
      "has_tenant_id": true,
      "tenant_distribution": {
        "3": 1,
        "4": 1
      },
      "date_range": {
        "min": "2025-09-29 19:47:46.031149",
        "max": "2025-09-30 11:05:43.725174"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "account_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "file_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "file_path",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "file_size",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "file_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "period_start",
          "type": "DATE",
          "notnull": 0
        },
        {
          "name": "period_end",
          "type": "DATE",
          "notnull": 0
        },
        {
          "name": "opening_balance",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "closing_balance",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "total_credits",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "total_debits",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "transaction_count",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "parsing_status",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "parsing_error",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "uploaded_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "parsed_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "file_hash",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "banking_institutions": {
    "usage": {
      "mentions": 4,
      "files": [
        "core/payment_accounts_models.py",
        "api/payment_accounts_api.py"
      ],
      "sql_queries": 1,
      "insert_queries": 0,
      "select_queries": 1,
      "update_queries": 0
    },
    "data": {
      "total_rows": 30,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {
        "min": "2025-09-27 23:36:41",
        "max": "2025-09-27 23:36:41"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "short_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "active",
          "type": "BOOLEAN",
          "notnull": 1
        },
        {
          "name": "sort_order",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "category_learning": {
    "usage": {
      "mentions": 7,
      "files": [
        "core/category_learning_system.py"
      ],
      "sql_queries": 6,
      "insert_queries": 1,
      "select_queries": 4,
      "update_queries": 1
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "company_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "description_pattern",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "predicted_category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confidence",
          "type": "DECIMAL(3,2)",
          "notnull": 0
        },
        {
          "name": "user_feedback",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "learning_data",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "category_learning_metrics": {
    "usage": {
      "mentions": 6,
      "files": [
        "core/category_learning_system.py"
      ],
      "sql_queries": 6,
      "insert_queries": 1,
      "select_queries": 4,
      "update_queries": 1
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "category_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "total_predictions",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "correct_predictions",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "accuracy_rate",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "avg_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "most_common_keywords",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "most_common_merchants",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "typical_amount_range",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "last_updated",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "category_prediction_config": {
    "usage": {
      "mentions": 2,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 1,
      "insert_queries": 0,
      "select_queries": 1,
      "update_queries": 0
    },
    "data": {
      "total_rows": 1,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 1
      },
      "date_range": {
        "min": "2025-09-26 05:21:57",
        "max": "2025-09-26 05:21:57"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "enabled",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "auto_apply_high_confidence",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "high_confidence_threshold",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "medium_confidence_threshold",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "use_llm",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "llm_model",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "use_user_history",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "history_weight",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "categories_config",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "features_weights",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "fallback_category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "require_manual_review",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "category_prediction_history": {
    "usage": {
      "mentions": 4,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 4,
      "insert_queries": 1,
      "select_queries": 2,
      "update_queries": 1
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "predicted_category",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "confidence",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "reasoning",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "alternatives",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "prediction_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "ml_model_version",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_feedback",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "corrected_category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "feedback_date",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "companies": {
    "usage": {
      "mentions": 16,
      "files": [
        "core/rollback_safety.py",
        "api/advanced_invoicing_api.py",
        "api/feature_flags_api.py",
        "modules/invoicing_agent/api.py"
      ],
      "sql_queries": 1,
      "insert_queries": 0,
      "select_queries": 1,
      "update_queries": 0
    },
    "data": {
      "total_rows": 3,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 1,
        "2": 1,
        "3": 1
      },
      "date_range": {
        "min": "2025-09-25 16:44:02",
        "max": "2025-09-27 16:25:47"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "company_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "legal_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "short_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "rfc",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "regimen_fiscal_code",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "regimen_fiscal_desc",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "street",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "neighborhood",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "city",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "state",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "postal_code",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "country",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "phone",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "email",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "website",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "facturacion_activa",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "certificado_cer",
          "type": "BLOB",
          "notnull": 0
        },
        {
          "name": "certificado_key",
          "type": "BLOB",
          "notnull": 0
        },
        {
          "name": "certificado_password",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "currency",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "timezone",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "config",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "custom_categories": {
    "usage": {
      "mentions": 10,
      "files": [
        "core/api_models.py",
        "core/category_learning_system.py",
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 5,
      "insert_queries": 0,
      "select_queries": 4,
      "update_queries": 1
    },
    "data": {
      "total_rows": 8,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 8
      },
      "date_range": {
        "min": "2025-09-26 05:21:57",
        "max": "2025-09-26 05:21:57"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "category_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "category_description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "parent_category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "color_hex",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "icon_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "keywords",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "merchant_patterns",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "amount_ranges",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tax_deductible",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "requires_receipt",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "sort_order",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_by",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "duplicate_detection": {
    "usage": {
      "mentions": 7,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 4,
      "insert_queries": 1,
      "select_queries": 2,
      "update_queries": 1
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "company_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "expense_id_1",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "expense_id_2",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "similarity_score",
          "type": "DECIMAL(3,2)",
          "notnull": 0
        },
        {
          "name": "detection_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_decision",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "duplicate_detection_config": {
    "usage": {
      "mentions": 2,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 1,
      "insert_queries": 0,
      "select_queries": 1,
      "update_queries": 0
    },
    "data": {
      "total_rows": 1,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 1
      },
      "date_range": {
        "min": "2025-09-26 05:09:34",
        "max": "2025-09-26 05:09:34"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "similarity_threshold_high",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "similarity_threshold_medium",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "similarity_threshold_low",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "time_window_days",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "auto_block_high_risk",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "auto_review_medium_risk",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "enabled_methods",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "weights_description",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "weights_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "weights_provider",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "weights_date",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "duplicate_detections": {
    "usage": {
      "mentions": 3,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 3,
      "insert_queries": 1,
      "select_queries": 1,
      "update_queries": 1
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "potential_duplicate_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "similarity_score",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "risk_level",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "confidence_level",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "match_reasons",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "detection_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "ml_features_json",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "reviewed_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "reviewed_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "employee_advances": {
    "usage": {
      "mentions": 23,
      "files": [
        "core/employee_advances_service.py",
        "api/employee_advances_api.py",
        "core/auth_jwt.py"
      ],
      "sql_queries": 8,
      "insert_queries": 1,
      "select_queries": 4,
      "update_queries": 3
    },
    "data": {
      "total_rows": 1,
      "has_tenant_id": true,
      "tenant_distribution": {
        "3": 1
      },
      "date_range": {
        "min": "2025-10-03 04:49:39",
        "max": "2025-10-03 04:49:39"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "employee_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "employee_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "advance_amount",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "reimbursed_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "pending_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "reimbursement_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "advance_date",
          "type": "TIMESTAMP",
          "notnull": 1
        },
        {
          "name": "reimbursement_date",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "reimbursement_movement_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "payment_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "error_logs": {
    "usage": {
      "mentions": 7,
      "files": [
        "core/error_handler.py"
      ],
      "sql_queries": 5,
      "insert_queries": 1,
      "select_queries": 4,
      "update_queries": 0
    },
    "data": {
      "total_rows": 57,
      "has_tenant_id": true,
      "tenant_distribution": {
        "None": 55,
        "1": 2
      },
      "date_range": {
        "min": "2025-09-25 21:30:29",
        "max": "2025-09-30 00:50:23"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "error_id",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "category",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "severity",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "message",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "user_message",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "endpoint",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "ip_address",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_agent",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "stack_trace",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "metadata",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "resolved_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "resolution_notes",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "expense_attachments": {
    "usage": {
      "mentions": 1,
      "files": [
        "core/api_models.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "filename",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "file_path",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "file_size",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "mime_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "attachment_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "uploaded_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "uploaded_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "expense_invoices": {
    "usage": {
      "mentions": 25,
      "files": [
        "core/db_optimizer.py",
        "core/internal_db.py",
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 13,
      "insert_queries": 4,
      "select_queries": 7,
      "update_queries": 2
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "filename",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "file_path",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "content_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "parsed_data",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "uuid",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "rfc_emisor",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "nombre_emisor",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "subtotal",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "iva_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "total",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "moneda",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "fecha_emision",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "xml_content",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "pdf_content",
          "type": "BLOB",
          "notnull": 0
        },
        {
          "name": "processing_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "match_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "auto_matched",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "processed_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "discount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "retention",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "validation_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "processing_metadata",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "template_match",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "validation_rules",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "detected_format",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "parser_used",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "ocr_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "processing_metrics",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "quality_score",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "processor_used",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "extraction_confidence",
          "type": "REAL",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "expense_ml_features": {
    "usage": {
      "mentions": 4,
      "files": [
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 1,
      "insert_queries": 0,
      "select_queries": 1,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "feature_vector",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "embedding_vector",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "extraction_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "feature_quality_score",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "expense_records": {
    "usage": {
      "mentions": 120,
      "files": [
        "core/category_learning_system.py",
        "core/internal_db.py",
        "core/split_reconciliation_service.py",
        "core/db_optimizer.py",
        "core/unified_db_adapter.py",
        "core/ai_reconciliation_service.py",
        "core/conversational_assistant.py",
        "core/employee_advances_service.py",
        "modules/invoicing_agent/api.py"
      ],
      "sql_queries": 72,
      "insert_queries": 3,
      "select_queries": 52,
      "update_queries": 17
    },
    "data": {
      "total_rows": 26,
      "has_tenant_id": true,
      "tenant_distribution": {
        "None": 3,
        "1": 19,
        "3": 4
      },
      "date_range": {
        "min": "2025-09-27 05:31:35",
        "max": "2025-10-03 04:39:42"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "amount",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "currency",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "merchant_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "merchant_category",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "date",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "deducible",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "requiere_factura",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "centro_costo",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "proyecto",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "metodo_pago",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "moneda",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "rfc_proveedor",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "cfdi_uuid",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "invoice_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "bank_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "approval_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "approved_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "approved_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "metadata",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "similarity_score",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "risk_level",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "is_duplicate",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "duplicate_of",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "duplicate_confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "ml_features_json",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "categoria_sugerida",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "confianza",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "razonamiento",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "category_alternatives",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "prediction_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "ml_model_version",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "predicted_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "category_confirmed",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "category_corrected_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tags",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "audit_trail",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_context",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "enhanced_data",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "completion_status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "validation_errors",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "field_completeness",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "reconciliation_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "split_group_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "amount_reconciled",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "amount_pending",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "is_employee_advance",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "advance_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "reimbursement_status",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "expense_tag_relations": {
    "usage": {
      "mentions": 11,
      "files": [
        "core/internal_db.py",
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 9,
      "insert_queries": 1,
      "select_queries": 8,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "tag_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "expense_tags": {
    "usage": {
      "mentions": 22,
      "files": [
        "core/api_models.py",
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 6,
      "insert_queries": 1,
      "select_queries": 4,
      "update_queries": 1
    },
    "data": {
      "total_rows": 8,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 8
      },
      "date_range": {
        "min": "2025-09-25 21:36:27",
        "max": "2025-09-25 21:36:27"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "color",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "created_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "gpt_usage_events": {
    "usage": {
      "mentions": 7,
      "files": [
        "core/unified_db_adapter.py",
        "core/cost_analytics.py"
      ],
      "sql_queries": 5,
      "insert_queries": 2,
      "select_queries": 3,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "timestamp",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "field_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "reason",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "tokens_estimated",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "cost_estimated_usd",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "confidence_before",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "confidence_after",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "success",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "merchant_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "ticket_id",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "invoice_match_history": {
    "usage": {
      "mentions": 0,
      "files": [],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "invoice_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "expense_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "match_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "confidence",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "match_criteria",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "matched_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "matched_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        }
      ]
    },
    "classification": "UNUSED"
  },
  "missing_transactions_log": {
    "usage": {
      "mentions": 5,
      "files": [
        "core/extraction_audit_logger.py"
      ],
      "sql_queries": 3,
      "insert_queries": 1,
      "select_queries": 1,
      "update_queries": 1
    },
    "data": {
      "total_rows": 31859,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {
        "min": "2025-09-29 01:11:09",
        "max": "2025-09-30 16:42:20"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "extraction_audit_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "raw_date",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "raw_description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "raw_amount",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "extraction_pattern",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "source_line",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "possible_reasons",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "manual_review_required",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "resolved",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "resolution_notes",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "pdf_extraction_audit": {
    "usage": {
      "mentions": 11,
      "files": [
        "core/extraction_audit_logger.py"
      ],
      "sql_queries": 6,
      "insert_queries": 1,
      "select_queries": 3,
      "update_queries": 2
    },
    "data": {
      "total_rows": 82,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 12,
        "3": 53,
        "4": 17
      },
      "date_range": {
        "min": "2025-09-29 01:04:25",
        "max": "2025-09-30 16:42:19"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "account_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "pdf_filename",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "pdf_size_bytes",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "extraction_method",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "extraction_timestamp",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "raw_text_length",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "chunks_processed",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "transactions_extracted",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "transactions_after_dedup",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "validation_passed",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "validation_results",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "extraction_time_seconds",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "initial_balance",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "final_balance",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "balance_difference",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "errors_encountered",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "warnings_encountered",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "api_calls_made",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "api_cost_estimated",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "permissions": {
    "usage": {
      "mentions": 27,
      "files": [
        "core/auth_jwt.py",
        "core/unified_auth.py",
        "core/whatsapp_integration.py",
        "core/web_automation_engine_system.py",
        "core/security_middleware.py",
        "core/auth.py",
        "core/expense_security_validator.py",
        "api/auth_jwt_api.py"
      ],
      "sql_queries": 2,
      "insert_queries": 0,
      "select_queries": 2,
      "update_queries": 0
    },
    "data": {
      "total_rows": 11,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {
        "min": "2025-10-03 05:13:24",
        "max": "2025-10-03 05:13:24"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "role",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "resource",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "action",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "scope",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "refresh_tokens": {
    "usage": {
      "mentions": 3,
      "files": [
        "core/unified_auth.py"
      ],
      "sql_queries": 3,
      "insert_queries": 1,
      "select_queries": 1,
      "update_queries": 1
    },
    "data": {
      "total_rows": 127,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {
        "min": "2025-09-25 21:19:37",
        "max": "2025-10-03 05:49:11"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "token_hash",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "expires_at",
          "type": "TIMESTAMP",
          "notnull": 1
        },
        {
          "name": "is_revoked",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "schema_migrations": {
    "usage": {
      "mentions": 2,
      "files": [
        "core/internal_db.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 11,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "version",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "applied_at",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "schema_versions": {
    "usage": {
      "mentions": 6,
      "files": [
        "core/internal_db.py",
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 3,
      "insert_queries": 1,
      "select_queries": 2,
      "update_queries": 0
    },
    "data": {
      "total_rows": 9,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "version",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "applied_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "system_health": {
    "usage": {
      "mentions": 29,
      "files": [
        "modules/invoicing_agent/services/__init__.py",
        "api/robust_automation_engine_api.py",
        "modules/invoicing_agent/integration_layer.py",
        "modules/invoicing_agent/services/orchestrator.py",
        "modules/invoicing_agent/fastapi_integration.py",
        "modules/invoicing_agent/enhanced_api.py",
        "modules/invoicing_agent/api.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "component_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "health_status",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "automation_health",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "performance_metrics",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "error_count",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "last_check",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "metadata",
          "type": "JSON",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "tenants": {
    "usage": {
      "mentions": 36,
      "files": [
        "core/unified_auth.py",
        "core/unified_db_adapter.py",
        "core/multi_tenancy_scaling.py",
        "core/auth_system.py",
        "modules/invoicing_agent/api.py",
        "api/auth_jwt_api.py"
      ],
      "sql_queries": 8,
      "insert_queries": 2,
      "select_queries": 6,
      "update_queries": 0
    },
    "data": {
      "total_rows": 4,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {
        "min": "2025-09-25 16:44:02",
        "max": "2025-09-30 03:01:32"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "api_key",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "config",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "tickets": {
    "usage": {
      "mentions": 223,
      "files": [
        "modules/invoicing_agent/services/__init__.py",
        "core/internal_db.py",
        "core/service_stack_config.py",
        "modules/invoicing_agent/queue_manager.py",
        "api/automation_v2.py",
        "core/data_consistency_manager.py",
        "modules/invoicing_agent/enhanced_api.py",
        "modules/invoicing_agent/api.py",
        "api/advanced_invoicing_api.py",
        "modules/invoicing_agent/services/url_extractor.py"
      ],
      "sql_queries": 17,
      "insert_queries": 2,
      "select_queries": 11,
      "update_queries": 4
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": true,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "title",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "description",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "priority",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "assignee",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "user_category_preferences": {
    "usage": {
      "mentions": 9,
      "files": [
        "core/category_learning_system.py",
        "core/unified_db_adapter.py"
      ],
      "sql_queries": 7,
      "insert_queries": 1,
      "select_queries": 5,
      "update_queries": 1
    },
    "data": {
      "total_rows": 1,
      "has_tenant_id": true,
      "tenant_distribution": {
        "1": 1
      },
      "date_range": {
        "min": "2025-09-26 05:30:29",
        "max": "2025-09-26 05:30:29"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "category_name",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "frequency",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "last_used",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "preference_score",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "keywords",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "user_payment_accounts": {
    "usage": {
      "mentions": 10,
      "files": [
        "api/payment_accounts_api.py",
        "core/payment_accounts_models.py",
        "core/bank_statements_models.py"
      ],
      "sql_queries": 9,
      "insert_queries": 1,
      "select_queries": 6,
      "update_queries": 2
    },
    "data": {
      "total_rows": 14,
      "has_tenant_id": true,
      "tenant_distribution": {
        "3": 11,
        "4": 3
      },
      "date_range": {
        "min": "2025-09-27 17:04:48",
        "max": "2025-09-30 17:35:51"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "nombre",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "tipo",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "subtipo",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "moneda",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "saldo_inicial",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "saldo_actual",
          "type": "REAL",
          "notnull": 1
        },
        {
          "name": "limite_credito",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "fecha_corte",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "fecha_pago",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "credito_disponible",
          "type": "REAL",
          "notnull": 0
        },
        {
          "name": "propietario_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "proveedor_terminal",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "banco_nombre",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "numero_tarjeta",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "numero_cuenta_enmascarado",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "numero_identificacion",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "activo",
          "type": "BOOLEAN",
          "notnull": 1
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "numero_cuenta",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "clabe",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "user_preferences": {
    "usage": {
      "mentions": 17,
      "files": [
        "core/category_learning_system.py",
        "core/unified_db_adapter.py",
        "core/expense_completion_system.py",
        "core/api_models.py",
        "api/expense_completion_api.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "company_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "preferences",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "onboarding_step",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "demo_preferences",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "completion_rules",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "field_priorities",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "user_sessions": {
    "usage": {
      "mentions": 3,
      "files": [
        "core/auth_jwt.py",
        "api/auth_jwt_api.py"
      ],
      "sql_queries": 3,
      "insert_queries": 1,
      "select_queries": 1,
      "update_queries": 1
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "user_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "session_id",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "ip_address",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "user_agent",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "expires_at",
          "type": "TIMESTAMP",
          "notnull": 1
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "last_activity",
          "type": "TIMESTAMP",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  },
  "users": {
    "usage": {
      "mentions": 91,
      "files": [
        "core/internal_db.py",
        "modules/invoicing_agent/playwright_automation_engine.py",
        "core/tenancy_middleware.py",
        "modules/invoicing_agent/api.py",
        "api/auth_jwt_api.py",
        "core/non_reconciliation_system.py",
        "modules/invoicing_agent/universal_invoice_engine.py",
        "core/unified_db_adapter.py",
        "modules/invoicing_agent/playwright_robust_engine.py",
        "core/auth.py"
      ],
      "sql_queries": 42,
      "insert_queries": 4,
      "select_queries": 30,
      "update_queries": 8
    },
    "data": {
      "total_rows": 9,
      "has_tenant_id": true,
      "tenant_distribution": {
        "None": 3,
        "1": 3,
        "2": 1,
        "3": 1,
        "4": 1
      },
      "date_range": {
        "min": "2025-09-25 17:03:55",
        "max": "2025-10-03 05:13:24"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "email",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "full_name",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "password_hash",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "tenant_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "role",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "is_superuser",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "last_login",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "failed_login_attempts",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "locked_until",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "notnull": 0
        },
        {
          "name": "employee_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "phone",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "department",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "created_by",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "is_email_verified",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "username",
          "type": "TEXT",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_MULTI_TENANT"
  },
  "validation_issues_log": {
    "usage": {
      "mentions": 3,
      "files": [
        "core/extraction_audit_logger.py"
      ],
      "sql_queries": 1,
      "insert_queries": 1,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 245,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {
        "min": "2025-09-29 01:11:09",
        "max": "2025-09-30 16:42:20"
      },
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "extraction_audit_id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "issue_type",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "severity",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "message",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "details",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "auto_resolved",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "manual_review_required",
          "type": "BOOLEAN",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "ACTIVE_NO_TENANT"
  },
  "workers": {
    "usage": {
      "mentions": 87,
      "files": [
        "core/bulk_invoice_processor.py",
        "core/worker_system.py",
        "core/idempotent_workers.py",
        "modules/invoicing_agent/queue_manager.py",
        "modules/invoicing_agent/services/orchestrator.py",
        "core/batch_performance_optimizer.py",
        "modules/invoicing_agent/api.py",
        "core/advanced_ocr_service.py"
      ],
      "sql_queries": 0,
      "insert_queries": 0,
      "select_queries": 0,
      "update_queries": 0
    },
    "data": {
      "total_rows": 0,
      "has_tenant_id": false,
      "tenant_distribution": {},
      "date_range": {},
      "schema": [
        {
          "name": "id",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "task_id",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "company_id",
          "type": "INTEGER",
          "notnull": 1
        },
        {
          "name": "task_type",
          "type": "TEXT",
          "notnull": 1
        },
        {
          "name": "status",
          "type": "TEXT",
          "notnull": 0
        },
        {
          "name": "progress",
          "type": "DECIMAL(3,2)",
          "notnull": 0
        },
        {
          "name": "worker_metadata",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "retry_policy",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "retry_count",
          "type": "INTEGER",
          "notnull": 0
        },
        {
          "name": "result_data",
          "type": "JSON",
          "notnull": 0
        },
        {
          "name": "created_at",
          "type": "DATETIME",
          "notnull": 0
        },
        {
          "name": "updated_at",
          "type": "DATETIME",
          "notnull": 0
        }
      ]
    },
    "classification": "DEFINED_NO_DATA"
  }
}